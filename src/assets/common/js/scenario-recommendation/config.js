/**
 * 场景推荐系统配置文件
 * 
 * 本文件管理场景推荐系统的各项设置，包括：
 * - 默认设置：用于API调用失败时的后备值
 * - 评分权重：控制不同因素对推荐结果的影响程度
 * - 场景映射：定义天气、时间、区域、季节相关的属性
 */

const config = {
  /**
   * 默认设置
   * 
   * 当无法获取真实数据时使用的后备值
   */
  DEFAULT_SETTINGS: {
    // 默认天气设置
    WEATHER: {
      type: '晴天' // 默认天气类型
    },

    // 默认区域类型
    AREA_TYPE: 'urban', // 默认为城市环境

    // 超时设置
    TIMEOUT: 10000 // API调用的超时时间(毫秒)
  },

  /**
   * 评分权重
   * 
   * 控制各种因素对最终得分的贡献百分比
   * 所有主要权重(playCount、timeMatch.weight等)之和应为1
   */
  SCORE_WEIGHTS: {
    // 播放量权重 - 占总分30%
    playCount: 0.3,

    // 时间匹配权重 - 占总分25%
    timeMatch: {
      weight: 0.25, // 整体权重
      exactMatch: 60, // 精确匹配分数
      moodMatch: 40, // 情绪匹配分数
    },

    // 天气匹配权重 - 占总分30%
    weatherMatch: {
      weight: 0.3, // 整体权重
      exactMatch: 45, // 精确匹配分数
      moodMatch: 35, // 情绪匹配分数
      musicStyleMatch: 20 // 音乐风格匹配分数
    },

    // 区域匹配权重 - 占总分15%
    areaMatch: {
      weight: 0.15, // 整体权重
      exactMatch: 40, // 精确匹配分数
      musicStyleMatch: 25 // 音乐风格匹配分数
    }

    // 注意：季节匹配作为额外加分，不参与主权重分配
  },

  /**
   * 场景配置
   * 
   * 定义各种场景元素及其相关属性
   * 包括情绪关键词、音乐风格和搜索优化
   */
  SCENE_CONFIG: {
    /**
     * 天气配置
     * 
     * 定义不同天气状况对应的情绪、风格和天气代码范围
     */
    weather: {
      // 晴天配置
      '晴天': {
        codeRange: { min: 0, max: 3 }, // 晴天、少云
        mood: '阳光', // 核心情绪关键词
        musicStyles: ['流行乐', '励志流行', '清新轻音乐', '活力节奏'] // 相关音乐风格
      },

      // 多云配置
      '多云': {
        codeRange: { min: 4, max: 65 }, // 多云、雾
        mood: '温柔',
        musicStyles: ['温柔民谣', '轻松流行', '清新小调', '慵懒歌曲']
      },

      // 雨天配置
      '雨天': {
        codeRange: [
          { min: 80, max: 94 }  // 小雨到大雨
        ],
        mood: '伤感',
        musicStyles: ['抒情钢琴独奏', '伤感情歌', '治愈系音乐', '雨天歌单']
      },

      // 雪天配置
      '雪天': {
        codeRange: { min: 71, max: 77 }, // 雪
        mood: '浪漫',
        musicStyles: ['唯美钢琴', '浪漫抒情曲', '宁静轻音乐', '冬日情歌']
      },

      // 雷雨配置
      '雷雨': {
        codeRange: { min: 95, max: 99 }, // 雷暴
        mood: '激烈',
        musicStyles: ['摇滚', '电子', '氛围音乐', '史诗配乐']
      },
      //雾天配置
      '雾天': {
        codeRange: { min: 45, max: 48 }, // 雾
        mood: '温柔',
        musicStyles: ['轻柔钢琴', '抒情流行', '浪漫歌曲', '温柔旋律']
      }
    },

    /**
     * 时间配置
     * 
     * 定义不同时段对应的情绪、音乐风格和时间范围
     */
    time: {
      // 清晨配置(5-7点)
      '清晨': {
        hourRange: { min: 5, max: 7 },
        mood: '治愈',
        musicStyles: ['晨间轻音乐', '自然音乐', '冥想音乐', '轻柔钢琴']
      },

      // 早晨配置(8-11点)
      '早晨': {
        hourRange: { min: 8, max: 11 },
        mood: '活力',
        musicStyles: ['活力流行', '清晨节奏', '阳光音乐', '动感舞曲']
      },

      // 中午配置(12-13点)
      '中午': {
        hourRange: { min: 12, max: 13 },
        mood: '轻快',
        musicStyles: ['爵士午餐', '轻快节奏', '流行单曲', '轻松旋律']
      },

      // 下午配置(14-17点)
      '下午': {
        hourRange: { min: 14, max: 17 },
        mood: '慵懒',
        musicStyles: ['下午茶音乐', '慵懒民谣', '轻松流行', '柔和旋律']
      },

      // 傍晚配置(18-19点)
      '傍晚': {
        hourRange: { min: 18, max: 19 },
        mood: '温柔',
        musicStyles: ['温暖民谣', '都市情歌', '黄昏歌曲', '抒情流行']
      },

      // 夜晚配置(20-23点)
      '夜晚': {
        hourRange: { min: 20, max: 23 },
        mood: '舒缓',
        musicStyles: ['夜晚钢琴', '深夜电台', '城市爵士', '夜色旋律']
      },

      // 深夜配置(0-4点)
      '深夜': {
        hourRange: { min: 0, max: 4 },
        mood: '睡眠',
        musicStyles: ['睡眠音乐', '舒缓钢琴', '白噪音', '深度放松']
      }
    },

    /**
     * 区域配置
     * 
     * 定义不同区域类型对应的搜索关键词和音乐风格
     */
    area: {
      // 城市区域
      'urban': {
        searchKeyword: '都市', // 主搜索关键词
        musicStyles: ['都市流行', '城市电子', '现代说唱', '都会爵士', '上班音乐'] // 相关音乐风格
      },

      // 乡村区域
      'rural': {
        searchKeyword: '乡村',  // 修改为更直接的关键词
        musicStyles: ['田园民谣', '乡村音乐', '自然轻音乐', '古风', '民族音乐'] // 优化音乐风格顺序
      }
    },

    /**
     * 季节配置
     * 
     * 定义不同季节对应的情绪、音乐风格和月份范围
     */
    season: {
      // 春季配置
      '春': {
        monthRange: { min: 2, max: 4 }, // 3-5月(月份索引0-11)
        mood: '清新',
        musicStyles: ['春日轻音乐', '清新民谣', '治愈系流行', '新beginnings']
      },

      // 夏季配置
      '夏': {
        monthRange: { min: 5, max: 7 }, // 6-8月(月份索引0-11)
        mood: '激情',
        musicStyles: ['夏日热歌', '沙滩音乐', '电音派对', '夏季节奏']
      },

      // 秋季配置
      '秋': {
        monthRange: { min: 8, max: 10 }, // 9-11月(月份索引0-11)
        mood: '怀旧',
        musicStyles: ['秋日民谣', '怀旧歌曲', '沉稳爵士', '文艺歌单']
      },

      // 冬季配置
      '冬': {
        monthRange: [
          { min: 0, max: 1 },  // 1-2月(月份索引0-11)
          { min: 11, max: 11 } // 12月(月份索引0-11)
        ],
        mood: '温暖',
        musicStyles: ['冬日暖歌', '圣诞音乐', '温暖民谣', '冬季钢琴']
      }
    }
  }
};

export default config;